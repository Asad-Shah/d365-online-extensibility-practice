/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
import { ProductComponent } from '@msdyn365-commerce/components';
// import ProductComponent  from '../../../themes/spring/views/components/product.component';
import { ICoreContext, IImageSettings, ITelemetry } from '@msdyn365-commerce/core';
import { ProductSearchResult } from '@msdyn365-commerce/retail-proxy';
import * as React from 'react';
import { IMySearchResultContainerResources } from '../my-search-result-container.props.autogenerated';

interface IProductSearchResultItems {
    parentText: string;
    products: ProductSearchResult[];
    context: ICoreContext;
    resources: IMySearchResultContainerResources;
    telemetry: ITelemetry;
    imageSettings?: IImageSettings;
    moduleType: string;
    moduleId: string;
}

export const ProductSearchResultItems: React.FC<IProductSearchResultItems> = ({
    parentText,
    products,
    context,
    imageSettings,
    resources,
    moduleType,
    moduleId
}) => {
    console.log('ProductSearchResultItems');
    console.log(parentText);
    return (

        <ul className='list-unstyled'>
            {products.map((product: ProductSearchResult, index: number) => (
                <li className='ms-product-search-result__item' key={index}>
                    <ProductComponent
                        parentText={parentText}
                        context={context}
                        imageSettings={imageSettings}
                        freePriceText={resources.priceFree}
                        originalPriceText={resources.originalPriceText}
                        currentPriceText={resources.currentPriceText}
                        ratingAriaLabel={resources.ratingAriaLabel}
                        id={moduleId}
                        typeName={moduleType}
                        data={{product: product}}
                    />
                </li>
            ))}
            </ul>
    );

};